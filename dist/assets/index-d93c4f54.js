import{_ as m}from"./_plugin-vue_export-helper-c27b6911.js";import{r as f,o as c,c as p,a as o,b as w,F as x,d as D,e as k,w as b}from"./index-88de62e1.js";const N={data(){return{search:"",list:[],count:24,totalCount:0,method:"trending"}},watch:{search(t){this.searchData(t),t?this.method="search":this.method="trending"}},methods:{async fetchData(){try{const e=await(await fetch(`https://api.giphy.com/v1/gifs/trending?api_key=XQJsiGIND0fn0MgbDhlEPcgKxR7DykpN&limit=${this.count}&rating=g`)).json();this.list=e.data,this.totalCount=e.pagination.total_count}catch(t){console.log(t)}},async loadMoreData(){try{this.count+=12,this.count>this.totalCount&&(this.count=this.totalCount);let t;this.method=="trending"?t=await fetch(`https://api.giphy.com/v1/gifs/trending?api_key=XQJsiGIND0fn0MgbDhlEPcgKxR7DykpN&limit=${this.count}&rating=g`):this.method=="search"&&(t=await fetch(`https://api.giphy.com/v1/gifs/search?api_key=XQJsiGIND0fn0MgbDhlEPcgKxR7DykpN&q=${this.search}&limit=${this.count}&offset=0&rating=g&lang=en`));const e=await t.json();this.list=[...this.list,...e.data],this.totalCount=e.pagination.total_count}catch(t){console.log(t)}},async searchData(t){try{const i=await(await fetch(`https://api.giphy.com/v1/gifs/search?api_key=XQJsiGIND0fn0MgbDhlEPcgKxR7DykpN&q=${t}&limit=24&offset=0&rating=g&lang=en`)).json();if(this.list=i.data,this.totalCount=i.pagination.total_count,!this.list.length){const a=await(await fetch("https://api.giphy.com/v1/gifs/random?api_key=XQJsiGIND0fn0MgbDhlEPcgKxR7DykpN&tag=not+found&rating=g")).json();this.list=[a.data],this.totalCount=a.pagination.total_count}}catch(e){console.log(e)}}},mounted(){this.fetchData();const t={rootMargin:"0px",threshold:1},e=n=>{n[0].isIntersecting&&this.loadMoreData()};new IntersectionObserver(e,t).observe(this.$refs.observer)}},$="/vite-vue/assets/logo-f5056f91.svg";const C={class:"main-wrapper"},M={class:"container"},I={class:"header"},E=o("img",{class:"header__logo",src:$,alt:""},null,-1),j={class:"content"},B={class:"content-container",style:{color:"#fff"}},G=["href"],J=o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2500",height:"2500",viewBox:"126.444 2.281 589 589"},[o("circle",{cx:"420.944",cy:"296.781",r:"294.5",fill:"#2daae1"}),o("path",{d:"M609.773 179.634c-13.891 6.164-28.811 10.331-44.498 12.204 16.01-9.587 28.275-24.779 34.066-42.86a154.78 154.78 0 0 1-49.209 18.801c-14.125-15.056-34.267-24.456-56.551-24.456-42.773 0-77.462 34.675-77.462 77.473 0 6.064.683 11.98 1.996 17.66-64.389-3.236-121.474-34.079-159.684-80.945-6.672 11.446-10.491 24.754-10.491 38.953 0 26.875 13.679 50.587 34.464 64.477a77.122 77.122 0 0 1-35.097-9.686v.979c0 37.54 26.701 68.842 62.145 75.961-6.511 1.784-13.344 2.716-20.413 2.716-4.998 0-9.847-.473-14.584-1.364 9.859 30.769 38.471 53.166 72.363 53.799-26.515 20.785-59.925 33.175-96.212 33.175-6.25 0-12.427-.373-18.491-1.104 34.291 21.988 75.006 34.824 118.759 34.824 142.496 0 220.428-118.052 220.428-220.428 0-3.361-.074-6.697-.236-10.021a157.855 157.855 0 0 0 38.707-40.158z",fill:"#fff"})],-1),K=[J],P=["src","height","width"],Q={ref:"observer",class:"observer"};function R(t,e,i,n,a,V){const u=f("v-text-field"),v=f("router-link");return c(),p("div",C,[o("div",M,[o("div",I,[E,w(u,{modelValue:a.search,"onUpdate:modelValue":e[0]||(e[0]=s=>a.search=s),class:"header__search",label:"Search...","hide-details":"auto"},null,8,["modelValue"])]),o("div",j,[o("div",B,[(c(!0),p(x,null,D(a.list,(s,y)=>(c(),k(v,{to:`/gif/${s.id}`,class:"content__item",style:{color:"#fff"},key:y},{default:b(()=>{var r,h,l,d,g,_;return[o("a",{href:`http://twitter.com/share?&url=${s.url}&title=${s.title}&hashtags=javascript,programming`,target:"_blank",style:{color:"#fff"}},K,8,G),o("img",{src:(h=(r=s==null?void 0:s.images)==null?void 0:r.fixed_height)==null?void 0:h.url,height:(d=(l=s==null?void 0:s.images)==null?void 0:l.fixed_height)==null?void 0:d.height,width:(_=(g=s==null?void 0:s.images)==null?void 0:g.fixed_height)==null?void 0:_.width,alt:""},null,8,P)]}),_:2},1032,["to"]))),128))]),o("div",Q,null,512)])])])}const F=m(N,[["render",R]]);export{F as default};
